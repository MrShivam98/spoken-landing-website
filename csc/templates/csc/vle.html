{% extends "csc_base.html" %}
{% load static %}
{% load crispy_forms_tags%}
{% block title%} CSC - VLE Dashboard {% endblock title%}



{% block content%}
 <div style="margin-top: 6.5%; background-color: #FDF5E6;">
hello
    <div>
        <form action="" method="post">
            <div class='form-row'>
                <div class='col-xs-12 form-group required'>
                 {{ form.programme_type | as_crispy_field }}
                </div>
            </div>

            <div class='form-row'>
                <div class='col-xs-12 form-group required'>
                 {{ form.spoken_foss | as_crispy_field }}
                </div>
            </div>

        <button type="submit" class="btn form-btn">Submit</button>       
        </form> 
    </div>

 </div>
{% endblock %}

{% block jsblock %}
<script>
    
    $(document).ready(function(){
      alert("helo");

      if($('.programme_type').val() == '') {
        $('.spoken_foss').val('');
        $('.spoken_foss').prop('disabled', 'disabled');
        // $('.course').html('<option>---------</option>');
        // $('.course').prop('disabled', 'disabled');
      }


    $('.programme_type').on('change', function(){
        alert('pg tp');
        programme_type = $(this).val();
        programme_type_name = $(this).children("option").filter(":selected").text()

        $('.spoken_foss').html('<option>---------</option>');
        if(programme_type != ''){
            $.ajax({
                url: "/get-foss-option/",
                type: "POST",
                data: {
                    programme_type: programme_type,
                },
                beforeSend: function() {
                },
                success: function(data) {
                    // loading languages
                    if(data && data['spoken_foss_option']) {
                    $('.spoken_foss').html(data['spoken_foss_option']);
                    }
                 
                }
            });
        }
    });



    });
  </script>
{% endblock %}
